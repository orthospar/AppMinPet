<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.124">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="An online resource for the Mineralogy and Petrology component of EART2231 - Earth Materials - at the University of Western Australia.">

<title>Applied Mineralogy and Petrology - 2&nbsp; Optical properties of minerals</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../mineralogy/crystallography.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script src="../site_libs/quarto-contrib/nutshell-1.0.0/nutshell.min.js"></script>
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script type="module" src="../site_libs/quarto-ojs/quarto-ojs-runtime.js"></script>
<link href="../site_libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Optical properties of minerals</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Applied Mineralogy and Petrology</a> 
        <div class="sidebar-tools-main">
    <a href="../EART2231_IntroMinPet.epub" title="Download ePub" class="sidebar-tool px-1"><i class="bi bi-journal"></i></a>
  <a href="" class="quarto-color-scheme-toggle sidebar-tool" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">Welcome</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../intro.html" class="sidebar-item-text sidebar-link">Preface</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Quick Access</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../quick_access/setup.html" class="sidebar-item-text sidebar-link">Microscope Setup and Use Reminders</a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../mineralogy.html" class="sidebar-item-text sidebar-link">Mineralogy</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../mineralogy/physical.html" class="sidebar-item-text sidebar-link">Physical properties of minerals</a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../mineralogy/crystallography.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Crystallography</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../mineralogy/optical.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Optical properties of minerals</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Contents</h2>
   
  <ul class="collapse">
  <li><a href="#plane-polarised-light" id="toc-plane-polarised-light" class="nav-link active" data-scroll-target="#plane-polarised-light">Plane Polarised Light</a></li>
  <li><a href="#cross-polarised-light" id="toc-cross-polarised-light" class="nav-link" data-scroll-target="#cross-polarised-light">Cross Polarised Light</a></li>
  <li><a href="#further-concepts" id="toc-further-concepts" class="nav-link" data-scroll-target="#further-concepts">Further concepts</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Optical properties of minerals</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>We recommend the open access textbook <a href="http://www.minsocam.org/msa/OpenAccess_publications/Guide_Thin_Sctn_Mcrscpy_index.html">“Guide to Thin Section Microscopy”</a> by <span class="citation" data-cites="Raith2012">Raith, Raase, and Reinhardt (<a href="#ref-Raith2012" role="doc-biblioref">2012</a>)</span> for ongoing use as a detailed reference companion. This textbook is worth getting printed and bound by a high quality professional printing service (such as Uni Print).</p>
<section id="plane-polarised-light" class="level2">
<h2 class="anchored" data-anchor-id="plane-polarised-light">Plane Polarised Light</h2>
<p>There are many observations we can make of the minerals visible in the thin section under illumination by Plane Polarised Light (PPL). Start by trying to estimate how many <em>different</em> phases (minerals, glass, etc) you have in your thin section, and then pick <em>just one</em> of these to focus on at a time. Make a record of each phase and note your observations.</p>
<section id="diaphaneity-opacitytransparency" class="level3">
<h3 class="anchored" data-anchor-id="diaphaneity-opacitytransparency">Diaphaneity (Opacity/Transparency)</h3>
<p>The first observation for any phase is if it is opaque or not. Opaque minerals do not transmit light in thin section. At this point, if the phase is opaque, we can go no further without using Reflected Light Microscopy (a technique we will introduce in 3rd Year courses, and which your microscopes are not equipped for in any case). If the opaque phase has a distinct crystal shape (such as euhedral ‘squares’) then that is worth recording (see <a href="#sec-growthfeatures"><span>Section&nbsp;2.1.5</span></a> “Growth Features” below.). You may also try using your hand lens to look at the surface of the mineral and see if it has a characteristic lustre or colour.</p>
<p>If the mineral is transparent, we are in luck, and can continue to apply transmitted light microscopy techniques. What fun!</p>
</section>
<section id="colour" class="level3">
<h3 class="anchored" data-anchor-id="colour">Colour</h3>
<p>Note if there is any distinctive colour to the phase under PPL. Only minerals with strong colouration in hand specimen show colour in thin section, many are colourless. For instance, olivine, which is a distinctive beautiful green in hand specimen, is completely colourless in thin section, whereas biotite, which is often dark and black in hand specimen, is often a red-brown colour in thin section.</p>
<p>Further details are on pages 68–69 of <span class="citation" data-cites="Raith2012">Raith, Raase, and Reinhardt (<a href="#ref-Raith2012" role="doc-biblioref">2012</a>)</span>.</p>
<section id="pleochroism" class="level4">
<h4 class="anchored" data-anchor-id="pleochroism">Pleochroism</h4>
<p>If the mineral <em>is</em> coloured, try rotating the stage to see if the colour changes. It may change between two distinct colours, such as red to brown pleochroism, or it may change between being coloured and colourless, such as green to colourless pleochroism. The effect can be <em>very</em> subtle, and often only the strongest pleochroism is noticed at first. Often it is prudent to re-check for pleochroism once further observations have been made.</p>
<p>Further details and examples are in <span class="citation" data-cites="Raith2012">Raith, Raase, and Reinhardt (<a href="#ref-Raith2012" role="doc-biblioref">2012</a>)</span> on pages 70–76.</p>
</section>
</section>
<section id="relief" class="level3">
<h3 class="anchored" data-anchor-id="relief">Relief</h3>
<p>Relief is an effect that occurs at the grain boundary and along internal fractures in a mineral. It occurs due to refraction across the grain boundary between two phases of different refractive indicies. The appearance of relief in thin section can be compared to ‘line thickness’. Low relief means that the refractive indicies between the two phases are similar, and the boundary (line) between them is thin and feint. If you had to choose a pencil to draw this boundary, you might select a fine 2H mechanical pencil. High relief means that the refractive indicies between the two phases are very different, and the boundary (line) between them is thick and <strong>bold</strong>. You might select a well-used 2B pencil to draw this boundary.</p>
<section id="becke-line-test" class="level4">
<h4 class="anchored" data-anchor-id="becke-line-test">Becke Line Test</h4>
<p>As the relief of a mineral is the difference in refractive indicies between two phases, relief can be positive or negative. If you have one correctly identified mineral in contact with an unknown mineral, you can calculate if the refractive index is higher (positive relief) or lower (negative relief) in the unknown when compared to the known mineral. With multiple minerals, the refractive index can be narrowed down quite significantly.</p>
<p>To perform the Becke Line test, focus the grain boundary such that the boundary appears uniform. Then, raise or lower the stage slightly (with the fine focus) and watch to see if a bright line of light moves into or out of the unknown mineral. If the stage is lowered, the bright line will move into the phase of higher refractive index. If the stage is raised, the bright line will move into the phase of lower refractive index.</p>
<p>Further descriptions of relief can be found on page 77, and the Becke Line is further explained on page 79 of <span class="citation" data-cites="Raith2012">Raith, Raase, and Reinhardt (<a href="#ref-Raith2012" role="doc-biblioref">2012</a>)</span>.</p>
</section>
</section>
<section id="cleavage-and-fracture" class="level3">
<h3 class="anchored" data-anchor-id="cleavage-and-fracture">Cleavage and Fracture</h3>
<p>Looking at the internal breaks of the mineral, determine if they are trying to follow a specific direction or not. Perfect cleavage will appear as many parallel thin lines across the mineral, ranging to poor cleavage where some fractures might only seem to have a preferred orientation. Fracture will appear as random breakages across the crystal, and are often curved (conchoidal fracture).</p>
<p>If cleavage is observed, note how many cleavage directions can be seen and at what angles they intersect (you can measure the angles using the gradations on your rotating stage). Bear in mind that the cleavages observed in a single grain depend on the orientation of that crystal. In a pyroxene for example, one parallel cleavage might be observed if the crystal is sliced parallel to the c-axis (parallel to [001]), but two cleavages intersecting at ~90° might be observed if the crystal is sliced perpendicular to the c-axis (perpendicular to [001]). Make sure you examine multiple crystals to get a range of possible viewing angles.</p>
<p>Further details and example images are in <span class="citation" data-cites="Raith2012">Raith, Raase, and Reinhardt (<a href="#ref-Raith2012" role="doc-biblioref">2012</a>)</span> pages 40-41.</p>
</section>
<section id="sec-growthfeatures" class="level3">
<h3 class="anchored" data-anchor-id="sec-growthfeatures">Growth Features</h3>
<p>The final observation under PPL examines features that occur as a result of how the crystal grew. These observations give us some useful information that can help ID the mineral, but often the most useful information gleaned here is <em>paragenesis</em> – the order in which each mineral grew in the rock and how each mineral relates to one another. We will come back to this concept later (it is the main focus in the Petrology section).</p>
<section id="habit" class="level4">
<h4 class="anchored" data-anchor-id="habit">Habit</h4>
<p>In thin section, we use similar jargon and concepts as what we use to describe the habit of minerals in hand sample.</p>
<p>For single crystals, we can use the terms <em>equant</em>, <em>bladed</em>, <em>platy</em>, etc to describe the overall shape. We also have the more generalised terms:</p>
<ul>
<li><strong>Euhedral</strong> (or Idiomorphic) – the crystal has all crystal faces fully formed, it is the ideal shape for that mineral.</li>
<li><strong>Subhedral</strong> (or Subidiomorphic) – the crystal has some, but not all, crystal faces formed.</li>
<li><strong>Anhedral</strong> (or Anidiomorphic) – none of the crystal’s ideal faces have formed, the shape is controlled only by the available space between other crystals.</li>
</ul>
<p>For groups of crystals, terms like <em>radial</em> and <em>botryoidal</em> are also still used. See <span class="citation" data-cites="Raith2012">Raith, Raase, and Reinhardt (<a href="#ref-Raith2012" role="doc-biblioref">2012</a>)</span> pages 31–39 for further details and example images.</p>
</section>
<section id="zonation" class="level4">
<h4 class="anchored" data-anchor-id="zonation">Zonation</h4>
<p>As crystals grow, chemical changes in the surrounding growth medium are often reflected as chemical changes in the crystal. This usually appears as <strong>concentric</strong> banding. Depending on the mineral, this may appear as changes in colouration, pleochroism, or most typically as changes in interference colours and extinction angles (see below, and <span class="citation" data-cites="Raith2012">Raith, Raase, and Reinhardt (<a href="#ref-Raith2012" role="doc-biblioref">2012</a>)</span> page 97). Other forms of growth zonation include <strong>oscillatory</strong> zonation (very fine bands, often seen as part of larger concentric bands) and <strong>sector</strong> zonation (different crystal faces pick up different trace elements, and have different colours).</p>
</section>
</section>
</section>
<section id="cross-polarised-light" class="level2">
<h2 class="anchored" data-anchor-id="cross-polarised-light">Cross Polarised Light</h2>
<p>The upper polarisation plate (the anlyser) is oriented perpendicular to the orienation direction of the lower polarisation plate. Since the lower polariser is, by convention, orientated in an E-W direction (or left-right), the upper polariser is hence oriented in a N-S direction (or up-down). If no thin section is inserted, then the view through the oculars should be <strong>dark/black</strong>.</p>
<section id="birefringence" class="level3">
<h3 class="anchored" data-anchor-id="birefringence">Birefringence</h3>
<p>Upon insertion of the upper polarisation plate (the analyser) the most striking observation is the sudden bright colourful display of <a href="https://en.wikipedia.org/wiki/Interference_colour_chart">:Interference Colours</a>, particularly in minerals such as olivine. Interference colours are only visible in <em>anisotropic minerals</em> and arise as a function of thin section thickness and the <a href="https://en.wikipedia.org/wiki/Birefringence">:Birefringence</a> of the mineral. Using a Michel-Lévy chart or the newer Raith-Sørensen chart (pages 92 and 93 of <span class="citation" data-cites="Raith2012">Raith, Raase, and Reinhardt (<a href="#ref-Raith2012" role="doc-biblioref">2012</a>)</span>), the maximum birefringence of a mineral can be identified by matching the observed interference colour. The maximum birefringence is characteristic for many minerals, and allows further descrimination between possible candidates.</p>
<div class="cell">

</div>
<div class="cell panel-input card bg-light p-2">
<div class="sourceCode cell-code hidden" id="cb1" data-startfrom="155" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 154;"><span id="cb1-155"><a href="#cb1-155" aria-hidden="true" tabindex="-1"></a>viewof biref <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>(</span>
<span id="cb1-156"><a href="#cb1-156" aria-hidden="true" tabindex="-1"></a>  [<span class="fl">0.0005</span><span class="op">,</span> <span class="fl">0.14</span>]<span class="op">,</span> </span>
<span id="cb1-157"><a href="#cb1-157" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">value</span><span class="op">:</span> <span class="fl">0.01</span><span class="op">,</span> <span class="dt">step</span><span class="op">:</span> <span class="fl">0.0005</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Birefringence:"</span>}</span>
<span id="cb1-158"><a href="#cb1-158" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb2" data-startfrom="162" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 161;"><span id="cb2-162"><a href="#cb2-162" aria-hidden="true" tabindex="-1"></a>data_intspec <span class="op">=</span> <span class="fu">FileAttachment</span>(<span class="st">"int_spectra.csv"</span>)<span class="op">.</span><span class="fu">csv</span>({ <span class="dt">typed</span><span class="op">:</span> <span class="kw">true</span> })</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb3" data-startfrom="168" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 167;"><span id="cb3-168"><a href="#cb3-168" aria-hidden="true" tabindex="-1"></a>Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb3-169"><a href="#cb3-169" aria-hidden="true" tabindex="-1"></a>  <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Wavelength (nm)"</span>}<span class="op">,</span></span>
<span id="cb3-170"><a href="#cb3-170" aria-hidden="true" tabindex="-1"></a>  <span class="dt">y</span><span class="op">:</span> {</span>
<span id="cb3-171"><a href="#cb3-171" aria-hidden="true" tabindex="-1"></a>    <span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span><span class="dv">1</span>]<span class="op">,</span></span>
<span id="cb3-172"><a href="#cb3-172" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"Relative Intensity"</span><span class="op">,</span></span>
<span id="cb3-173"><a href="#cb3-173" aria-hidden="true" tabindex="-1"></a>    <span class="dt">labelOffset</span><span class="op">:</span> <span class="dv">0</span>}<span class="op">,</span></span>
<span id="cb3-174"><a href="#cb3-174" aria-hidden="true" tabindex="-1"></a>  <span class="dt">margin</span><span class="op">:</span> <span class="dv">40</span><span class="op">,</span></span>
<span id="cb3-175"><a href="#cb3-175" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginBottom</span><span class="op">:</span> <span class="dv">80</span><span class="op">,</span></span>
<span id="cb3-176"><a href="#cb3-176" aria-hidden="true" tabindex="-1"></a>  <span class="dt">style</span><span class="op">:</span> {</span>
<span id="cb3-177"><a href="#cb3-177" aria-hidden="true" tabindex="-1"></a>    <span class="dt">background</span><span class="op">:</span> <span class="st">"#CCCCCC"</span><span class="op">,</span></span>
<span id="cb3-178"><a href="#cb3-178" aria-hidden="true" tabindex="-1"></a>    <span class="dt">fontSize</span><span class="op">:</span> <span class="dv">20</span><span class="op">,</span></span>
<span id="cb3-179"><a href="#cb3-179" aria-hidden="true" tabindex="-1"></a>    <span class="dt">color</span><span class="op">:</span> <span class="st">"Black"</span></span>
<span id="cb3-180"><a href="#cb3-180" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb3-181"><a href="#cb3-181" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb3-182"><a href="#cb3-182" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">image</span>([{ <span class="dt">url</span><span class="op">:</span> <span class="st">"https://upload.wikimedia.org/wikipedia/commons/d/d9/Linear_visible_spectrum.svg"</span>}]<span class="op">,</span></span>
<span id="cb3-183"><a href="#cb3-183" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb3-184"><a href="#cb3-184" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> <span class="dv">565</span><span class="op">,</span></span>
<span id="cb3-185"><a href="#cb3-185" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> <span class="op">-</span><span class="fl">0.2</span><span class="op">,</span></span>
<span id="cb3-186"><a href="#cb3-186" aria-hidden="true" tabindex="-1"></a>      <span class="dt">width</span><span class="op">:</span> <span class="dv">383</span><span class="op">,</span></span>
<span id="cb3-187"><a href="#cb3-187" aria-hidden="true" tabindex="-1"></a>      <span class="dt">height</span><span class="op">:</span> width<span class="op">*</span><span class="fl">0.1</span><span class="op">,</span></span>
<span id="cb3-188"><a href="#cb3-188" aria-hidden="true" tabindex="-1"></a>      <span class="dt">src</span><span class="op">:</span> <span class="st">"url"</span></span>
<span id="cb3-189"><a href="#cb3-189" aria-hidden="true" tabindex="-1"></a>    })<span class="op">,</span></span>
<span id="cb3-190"><a href="#cb3-190" aria-hidden="true" tabindex="-1"></a>    <span class="co">//Plot.ruleX([380]),</span></span>
<span id="cb3-191"><a href="#cb3-191" aria-hidden="true" tabindex="-1"></a>    <span class="co">//Plot.ruleX([750]),</span></span>
<span id="cb3-192"><a href="#cb3-192" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">ruleX</span>([<span class="dv">551</span>])<span class="op">,</span></span>
<span id="cb3-193"><a href="#cb3-193" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">areaY</span>(interference_filtered<span class="op">,</span> { </span>
<span id="cb3-194"><a href="#cb3-194" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> <span class="st">"wl"</span><span class="op">,</span> </span>
<span id="cb3-195"><a href="#cb3-195" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> <span class="st">"value"</span><span class="op">,</span> </span>
<span id="cb3-196"><a href="#cb3-196" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fill</span><span class="op">:</span> <span class="st">"hexvis"</span>})</span>
<span id="cb3-197"><a href="#cb3-197" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb3-198"><a href="#cb3-198" aria-hidden="true" tabindex="-1"></a>      ]<span class="op">,</span></span>
<span id="cb3-199"><a href="#cb3-199" aria-hidden="true" tabindex="-1"></a>  <span class="dt">width</span><span class="op">:</span> <span class="dv">800</span></span>
<span id="cb3-200"><a href="#cb3-200" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="fig-int_spectra" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<div id="ojs-cell-3" data-nodetype="expression">

</div>
<p></p><figcaption class="figure-caption">Figure&nbsp;2.1: Spectral contribution to the observed interference colour as a function of birefringence in thin section of 30 μm thickness, calculated using the daylight spectrum (black body radiation at 6500K). Each order of interference colours can be counted as the troughs pass by 551 nm (marked by vertical line). The boundary between 1st and 2nd order colours occurs at a birefringence of 0.018 as the first trough passes this line. Higher order colours (after 3rd order) oscillate between weak pink-green colours and become increasingly washed-out and pale. This spectral curve has been generated in R from first principles and is converted into an estimation of the perceived colour using the pavo 2 package <span class="citation" data-cites="Maia2013 Maia2019">(<a href="#ref-Maia2013" role="doc-biblioref">Maia et al. 2013</a>, <a href="#ref-Maia2019" role="doc-biblioref">2019</a>)</span>.</figcaption><p></p>
</figure>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb4" data-startfrom="206" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 205;"><span id="cb4-206"><a href="#cb4-206" aria-hidden="true" tabindex="-1"></a>interference_filtered <span class="op">=</span> data_intspec<span class="op">.</span><span class="fu">filter</span>(<span class="kw">function</span>(intspectra) {</span>
<span id="cb4-207"><a href="#cb4-207" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> biref <span class="op">==</span> intspectra<span class="op">.</span><span class="at">biref</span><span class="op">;</span></span>
<span id="cb4-208"><a href="#cb4-208" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-4" data-nodetype="declaration">

</div>
</div>
</div>
</section>
<section id="extinction-and-extinction-angles" class="level3">
<h3 class="anchored" data-anchor-id="extinction-and-extinction-angles">Extinction and Extinction Angles</h3>
<p>As the stage is rotated through 360°, the often bright colours observed will decrease in intensity and will <em>go dark</em> every 90° (four times in a full rotation). This is called <strong>extinction</strong>, and occurs when the optic axes of the mineral are aligned with the vibration directions of the upper and lower polarisers. See <span class="citation" data-cites="Raith2012">Raith, Raase, and Reinhardt (<a href="#ref-Raith2012" role="doc-biblioref">2012</a>)</span> pages 82 and 85 for examples.</p>
<p>If, when the upper polariser is inserted, the mineral of interest is extinct and remains extinct through the full 360° rotation, then the mineral is possibly in the <em>isotropic</em> crystal system. There is a possibility that you have found an <em>anisotropic</em> mineral (any other crystal system besides isotropic) oriented such that it is cut in a very specific direction. If the mineral is truly isotropic, <em>all examples of this mineral</em> will show isotropic behaviour and will be fully extinct throughout the 360° rotation.</p>
<p>If there is a crystallographic feature identifiable in the mineral of interest (such as a crystal face of known orientation, a cleaveage trace, or overall shape), then the orientation of the optic axes with respect to the crystallographic axes can be used to determine the symmetry group to which the mineral belongs.</p>
<p>In general, the mono<em>clinic</em> and tri<em>clinic</em> crystal classes have extinction angles in<em>clined</em> at some angle off of the main crystallographic axes. The remaining classes, tetragonal, orthorhombic, hexagonal and trigonal, tend to have <em>parallel</em> extinction.</p>
<p>For further details, please read <span class="citation" data-cites="Raith2012">Raith, Raase, and Reinhardt (<a href="#ref-Raith2012" role="doc-biblioref">2012</a>)</span> pages 100–102.</p>
</section>
<section id="twinning" class="level3">
<h3 class="anchored" data-anchor-id="twinning">Twinning</h3>
<p>Twinning is a growth defect where, for whatever reason during crystal growth, the mineral changes growth directions. Twinning occurs along particular crystallographic planes that are specific to each mineral, so the type of twinning is often distinctive. As the crysatallographic orientation of the crystal changes across the twin plane, this is often visible as sudden changes in the direction of extinction angles across the twin plane.</p>
<p>Example images and further details are in <span class="citation" data-cites="Raith2012">(<a href="#ref-Raith2012" role="doc-biblioref">Raith, Raase, and Reinhardt 2012</a>)</span> on pages 47–50.</p>
</section>
</section>
<section id="further-concepts" class="level2">
<h2 class="anchored" data-anchor-id="further-concepts">Further concepts</h2>
<p>There are further techniques not covered here, such as obtaining an <a href="https://en.wikipedia.org/wiki/Conoscopic_interference_pattern">:optic figure</a> and measuring the corresponding optic angle (or 2V). It is sufficient at this stage to know that they <em>exist</em> – we will cover this technique in a later course. There are also a few other concepts that the beginning microscopist should be aware of. These are covered in this section.</p>
<section id="colour-perception" class="level3">
<h3 class="anchored" data-anchor-id="colour-perception">Colour perception</h3>
<p>We all see the world differently, and this should not be a disadvantage when it comes to microscopy. Due to the different physical interaction properties of light between dyes and inks, LED/LCD computer screens, camera detectors, and how interference colours arise, it is not suprising that dramatic differences in perception of colours often arise between depictions of what is seen down the microscope versus what is actually observed, even in individuals with full colour perception.</p>
<p>Figure <a href="#fig-ishihara9">Figure&nbsp;<span>2.2</span></a> is an <a href="https://en.wikipedia.org/wiki/Ishihara_test">:Ishihara</a> colour perception plate. This is not a faithful reconstruction (due to colour rendering in various digital display technologies) but it is sufficient to illustrate the point here. You should be able to distinguish the number 74. If you see the number 71, or no number at all, then please alert your demonstrator so that we can help provide you with some extra materials and assistance. For instance, instead of using digitally rendered or print copies of the interference colour chart, we will provide you with a quartz wedge plate which can be viewed under cross polarised light to use as the true point of reference for the interference colours.</p>
<div id="fig-ishihara9" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><a href="&quot;https://commons.wikimedia.org/wiki/File:Ishihara_9.svg&quot;"><img src="Ishihara_9.svg" title="Ishihara Plate 9" class="img-fluid figure-img"></a></p>
<p></p><figcaption class="figure-caption">Figure&nbsp;2.2: Ishihara Plate 9. The number 74 should be visible - please alert your demonstrator if you see the number 71 or no number at all.</figcaption><p></p>
</figure>
</div>
</section>
<section id="sources-of-light" class="level3">
<h3 class="anchored" data-anchor-id="sources-of-light">Sources of Light</h3>
<p>An important effect to take note of is how the generation of interference colours under cross polarised light is also a function of the spectral distribution of light interacting with the crystalline material. For the interference colours to behave as we expect them to, it is important to use an even a distribution of light as possible.</p>
<p>Modern <a href="https://en.wikipedia.org/wiki/Light-emitting_diode">:LEDs</a> do not produce a uniform or continuous spectral distribution. Even the <a href="https://www.nobelprize.org/prizes/physics/2014/press-release/">Nobel Prize</a> winning blue LED and its subsequent combination with Ce-doped <a href="https://en.wikipedia.org/wiki/Yttrium_aluminium_garnet">:YAG</a> as a yellow phosphor still does not produce a sufficiently uniform spectrum suitable for XPL microscopy.</p>
<p>As such, our microscopes are equipped with <a href="https://en.wikipedia.org/wiki/Halogen_lamp">:halogen bulbs</a>, a modification to the standard tungsten-filament incandescent bulbs of the 20th Century. Yes, it’s old-tech, but it’s what we have. Notice in Figure <a href="#fig-bb_spectra">Figure&nbsp;<span>2.3</span></a> that the light emitted from these bulbs is still skewed towards the yellow-red side of the spectrum. The microscopes compensate for this by filtering some of the yellow-red light to even out the distribution a little and make the general spectrum more ‘white’.</p>
<p>The key message is that the bulbs in your microscopes will produce a significant amount of infrared radiation (i.e., <strong><em>heat</em></strong>). Don’t leave them on for long periods unattended. When turning them on and off, it is best to start at low voltage and ramp it up slowly (over a couple of seconds) rather than just turn it on at full voltage. This increases wear on the bulbs, and makes them more likely to blow (which is not good if it happens during an exam).</p>
<div class="cell">

</div>
<div class="cell panel-input card bg-light p-2">
<div class="sourceCode cell-code hidden" id="cb5" data-startfrom="375" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 374;"><span id="cb5-375"><a href="#cb5-375" aria-hidden="true" tabindex="-1"></a>viewof TempK <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>(</span>
<span id="cb5-376"><a href="#cb5-376" aria-hidden="true" tabindex="-1"></a>  [<span class="dv">2500</span><span class="op">,</span> <span class="dv">7500</span>]<span class="op">,</span> </span>
<span id="cb5-377"><a href="#cb5-377" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">value</span><span class="op">:</span> <span class="dv">2500</span><span class="op">,</span> <span class="dt">step</span><span class="op">:</span> <span class="dv">500</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Temperature (K):"</span>}</span>
<span id="cb5-378"><a href="#cb5-378" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-379"><a href="#cb5-379" aria-hidden="true" tabindex="-1"></a>viewof biref2 <span class="op">=</span> Inputs<span class="op">.</span><span class="fu">range</span>(</span>
<span id="cb5-380"><a href="#cb5-380" aria-hidden="true" tabindex="-1"></a>  [<span class="fl">0.001</span><span class="op">,</span> <span class="fl">0.055</span>]<span class="op">,</span> </span>
<span id="cb5-381"><a href="#cb5-381" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">value</span><span class="op">:</span> <span class="fl">0.01</span><span class="op">,</span> <span class="dt">step</span><span class="op">:</span> <span class="fl">0.001</span><span class="op">,</span> <span class="dt">label</span><span class="op">:</span> <span class="st">"Birefringence:"</span>}</span>
<span id="cb5-382"><a href="#cb5-382" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-5-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-5-2" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb6" data-startfrom="386" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 385;"><span id="cb6-386"><a href="#cb6-386" aria-hidden="true" tabindex="-1"></a>data_bbspec <span class="op">=</span> <span class="fu">FileAttachment</span>(<span class="st">"bb_spectra.csv"</span>)<span class="op">.</span><span class="fu">csv</span>({ <span class="dt">typed</span><span class="op">:</span> <span class="kw">true</span> })</span>
<span id="cb6-387"><a href="#cb6-387" aria-hidden="true" tabindex="-1"></a>data_intspec2 <span class="op">=</span> <span class="fu">FileAttachment</span>(<span class="st">"int_spectra2.csv"</span>)<span class="op">.</span><span class="fu">csv</span>({ <span class="dt">typed</span><span class="op">:</span> <span class="kw">true</span> })</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-2" data-nodetype="declaration">

</div>
</div>
</div>
</div>
<div id="fig-bb_spectra" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<div class="sourceCode cell-code hidden" id="cb7" data-startfrom="394" data-source-offset="-1"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 393;"><span id="cb7-394"><a href="#cb7-394" aria-hidden="true" tabindex="-1"></a>Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb7-395"><a href="#cb7-395" aria-hidden="true" tabindex="-1"></a>  <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Wavelength (nm)"</span>}<span class="op">,</span></span>
<span id="cb7-396"><a href="#cb7-396" aria-hidden="true" tabindex="-1"></a>  <span class="dt">y</span><span class="op">:</span> {</span>
<span id="cb7-397"><a href="#cb7-397" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"Relative Intensity"</span><span class="op">,</span></span>
<span id="cb7-398"><a href="#cb7-398" aria-hidden="true" tabindex="-1"></a>    <span class="dt">labelOffset</span><span class="op">:</span> <span class="dv">0</span>}<span class="op">,</span></span>
<span id="cb7-399"><a href="#cb7-399" aria-hidden="true" tabindex="-1"></a>  <span class="dt">margin</span><span class="op">:</span> <span class="dv">40</span><span class="op">,</span></span>
<span id="cb7-400"><a href="#cb7-400" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginBottom</span><span class="op">:</span> <span class="dv">80</span><span class="op">,</span></span>
<span id="cb7-401"><a href="#cb7-401" aria-hidden="true" tabindex="-1"></a>  <span class="dt">style</span><span class="op">:</span> {</span>
<span id="cb7-402"><a href="#cb7-402" aria-hidden="true" tabindex="-1"></a>    <span class="dt">background</span><span class="op">:</span> <span class="st">"#CCCCCC"</span><span class="op">,</span></span>
<span id="cb7-403"><a href="#cb7-403" aria-hidden="true" tabindex="-1"></a>    <span class="dt">fontSize</span><span class="op">:</span> <span class="dv">20</span><span class="op">,</span></span>
<span id="cb7-404"><a href="#cb7-404" aria-hidden="true" tabindex="-1"></a>    <span class="dt">color</span><span class="op">:</span> <span class="st">"Black"</span></span>
<span id="cb7-405"><a href="#cb7-405" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb7-406"><a href="#cb7-406" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb7-407"><a href="#cb7-407" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">image</span>([{ <span class="dt">url</span><span class="op">:</span> <span class="st">"https://upload.wikimedia.org/wikipedia/commons/d/d9/Linear_visible_spectrum.svg"</span>}]<span class="op">,</span></span>
<span id="cb7-408"><a href="#cb7-408" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb7-409"><a href="#cb7-409" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> <span class="dv">565</span><span class="op">,</span></span>
<span id="cb7-410"><a href="#cb7-410" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> <span class="op">-</span><span class="fl">0.2</span><span class="op">,</span></span>
<span id="cb7-411"><a href="#cb7-411" aria-hidden="true" tabindex="-1"></a>      <span class="dt">width</span><span class="op">:</span> <span class="dv">383</span><span class="op">,</span></span>
<span id="cb7-412"><a href="#cb7-412" aria-hidden="true" tabindex="-1"></a>      <span class="dt">height</span><span class="op">:</span> width<span class="op">*</span><span class="fl">0.1</span><span class="op">,</span></span>
<span id="cb7-413"><a href="#cb7-413" aria-hidden="true" tabindex="-1"></a>      <span class="dt">src</span><span class="op">:</span> <span class="st">"url"</span></span>
<span id="cb7-414"><a href="#cb7-414" aria-hidden="true" tabindex="-1"></a>    })<span class="op">,</span></span>
<span id="cb7-415"><a href="#cb7-415" aria-hidden="true" tabindex="-1"></a>    <span class="co">//Plot.ruleX([380]),</span></span>
<span id="cb7-416"><a href="#cb7-416" aria-hidden="true" tabindex="-1"></a>    <span class="co">//Plot.ruleX([750]),</span></span>
<span id="cb7-417"><a href="#cb7-417" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">areaY</span>(filtered<span class="op">,</span> { </span>
<span id="cb7-418"><a href="#cb7-418" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> <span class="st">"wl"</span><span class="op">,</span> </span>
<span id="cb7-419"><a href="#cb7-419" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> <span class="st">"value"</span><span class="op">,</span> </span>
<span id="cb7-420"><a href="#cb7-420" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fill</span><span class="op">:</span> <span class="st">"hexvis"</span>})</span>
<span id="cb7-421"><a href="#cb7-421" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb7-422"><a href="#cb7-422" aria-hidden="true" tabindex="-1"></a>      ]<span class="op">,</span></span>
<span id="cb7-423"><a href="#cb7-423" aria-hidden="true" tabindex="-1"></a>  <span class="dt">width</span><span class="op">:</span> <span class="dv">800</span></span>
<span id="cb7-424"><a href="#cb7-424" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="fig-bb_spectra-1">
<div id="ojs-cell-7-1" data-nodetype="expression">

</div>
</div>
</div>
<div class="sourceCode cell-code hidden" id="cb8" data-startfrom="426" data-source-offset="-612"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 425;"><span id="cb8-426"><a href="#cb8-426" aria-hidden="true" tabindex="-1"></a>Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb8-427"><a href="#cb8-427" aria-hidden="true" tabindex="-1"></a>  <span class="dt">x</span><span class="op">:</span> {<span class="dt">label</span><span class="op">:</span> <span class="st">"Wavelength (nm)"</span>}<span class="op">,</span></span>
<span id="cb8-428"><a href="#cb8-428" aria-hidden="true" tabindex="-1"></a>  <span class="dt">y</span><span class="op">:</span> {</span>
<span id="cb8-429"><a href="#cb8-429" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"Relative Intensity"</span><span class="op">,</span></span>
<span id="cb8-430"><a href="#cb8-430" aria-hidden="true" tabindex="-1"></a>    <span class="dt">labelOffset</span><span class="op">:</span> <span class="dv">0</span>}<span class="op">,</span></span>
<span id="cb8-431"><a href="#cb8-431" aria-hidden="true" tabindex="-1"></a>  <span class="dt">margin</span><span class="op">:</span> <span class="dv">40</span><span class="op">,</span></span>
<span id="cb8-432"><a href="#cb8-432" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marginBottom</span><span class="op">:</span> <span class="dv">80</span><span class="op">,</span></span>
<span id="cb8-433"><a href="#cb8-433" aria-hidden="true" tabindex="-1"></a>  <span class="dt">style</span><span class="op">:</span> {</span>
<span id="cb8-434"><a href="#cb8-434" aria-hidden="true" tabindex="-1"></a>    <span class="dt">background</span><span class="op">:</span> <span class="st">"#CCCCCC"</span><span class="op">,</span></span>
<span id="cb8-435"><a href="#cb8-435" aria-hidden="true" tabindex="-1"></a>    <span class="dt">fontSize</span><span class="op">:</span> <span class="dv">20</span><span class="op">,</span></span>
<span id="cb8-436"><a href="#cb8-436" aria-hidden="true" tabindex="-1"></a>    <span class="dt">color</span><span class="op">:</span> <span class="st">"Black"</span></span>
<span id="cb8-437"><a href="#cb8-437" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb8-438"><a href="#cb8-438" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb8-439"><a href="#cb8-439" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">areaY</span>(filtered2<span class="op">,</span> { </span>
<span id="cb8-440"><a href="#cb8-440" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> <span class="st">"wl"</span><span class="op">,</span> </span>
<span id="cb8-441"><a href="#cb8-441" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> <span class="st">"value"</span><span class="op">,</span> </span>
<span id="cb8-442"><a href="#cb8-442" aria-hidden="true" tabindex="-1"></a>      <span class="dt">fill</span><span class="op">:</span> <span class="st">"hexvis"</span>})</span>
<span id="cb8-443"><a href="#cb8-443" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb8-444"><a href="#cb8-444" aria-hidden="true" tabindex="-1"></a>      ]<span class="op">,</span></span>
<span id="cb8-445"><a href="#cb8-445" aria-hidden="true" tabindex="-1"></a>  <span class="dt">width</span><span class="op">:</span> <span class="dv">800</span></span>
<span id="cb8-446"><a href="#cb8-446" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="fig-bb_spectra-2">
<div id="ojs-cell-7-2" data-nodetype="expression">

</div>
</div>
</div>
<p></p><figcaption class="figure-caption">Figure&nbsp;2.3: Top: Relative spectral distribution of emissions for Black Body Radiation at a given Temperature. The display colour of the curve approximates the perceived colour of this spectrum by the human eye. Compare the spectral output for a Halogen bulb around 3000K to 3500K vs Daylight at 6500K. Bottom: The same curve with interference calculated as a function of birefringence. Notice how the interference colours can appear different depending on the intial spectrum of light. These spectral curves have been generated in R from first principles and are converted into an estimation of the perceived colour using the pavo 2 package <span class="citation" data-cites="Maia2013 Maia2019">(<a href="#ref-Maia2013" role="doc-biblioref">Maia et al. 2013</a>, <a href="#ref-Maia2019" role="doc-biblioref">2019</a>)</span>.</figcaption><p></p>
</figure>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb9" data-startfrom="451" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 450;"><span id="cb9-451"><a href="#cb9-451" aria-hidden="true" tabindex="-1"></a>filtered <span class="op">=</span> data_bbspec<span class="op">.</span><span class="fu">filter</span>(<span class="kw">function</span>(bbspectra) {</span>
<span id="cb9-452"><a href="#cb9-452" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> TempK <span class="op">==</span> bbspectra<span class="op">.</span><span class="at">temperature</span><span class="op">;</span></span>
<span id="cb9-453"><a href="#cb9-453" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb9-454"><a href="#cb9-454" aria-hidden="true" tabindex="-1"></a>filtered2 <span class="op">=</span> data_intspec2<span class="op">.</span><span class="fu">filter</span>(<span class="kw">function</span>(intspectra2) {</span>
<span id="cb9-455"><a href="#cb9-455" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> TempK <span class="op">==</span> intspectra2<span class="op">.</span><span class="at">temperature</span> <span class="op">&amp;&amp;</span> biref2 <span class="op">==</span> intspectra2<span class="op">.</span><span class="at">biref</span><span class="op">;</span></span>
<span id="cb9-456"><a href="#cb9-456" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-8-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-8-2" data-nodetype="declaration">

</div>
</div>
</div>
</div>


<div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-Maia2013" class="csl-entry" role="doc-biblioentry">
Maia, Rafael, Chad M. Eliason, Pierre-Paul Bitton, Stéphanie M. Doucet, and Matthew D. Shawkey. 2013. <span>“<span class="nocase">pavo</span>: An <span>R</span> Package for the Analysis, Visualization and Organization of Spectral Data.”</span> <em>Methods in Ecology and Evolution</em> 4 (10): 906–13. <a href="https://doi.org/10.1111/2041-210x.12069">https://doi.org/10.1111/2041-210x.12069</a>.
</div>
<div id="ref-Maia2019" class="csl-entry" role="doc-biblioentry">
Maia, Rafael, Hugo Gruson, John A. Endler, and Thomas E. White. 2019. <span>“<span class="nocase">pavo</span> 2: New Tools for the Spectral and Spatial Analysis of Colour in <span>R</span>.”</span> <em>Methods in Ecology and Evolution</em> 10 (7): 1097–107. <a href="https://doi.org/10.1111/2041-210x.13174">https://doi.org/10.1111/2041-210x.13174</a>.
</div>
<div id="ref-Raith2012" class="csl-entry" role="doc-biblioentry">
Raith, Michael M., Peter Raase, and Jürgen Reinhardt. 2012. <em>Guide to Thin Section Microscopy</em>. Mineralogical Society of America.
</div>
</div>
</section>
</section>

</main> <!-- /main -->
<script type="ojs-module-contents">
{"contents":[{"methodName":"interpret","cellName":"ojs-cell-1","inline":false,"source":"viewof biref = Inputs.range(\n  [0.0005, 0.14], \n  {value: 0.01, step: 0.0005, label: \"Birefringence:\"}\n)\n"},{"methodName":"interpret","cellName":"ojs-cell-2","inline":false,"source":"data_intspec = FileAttachment(\"int_spectra.csv\").csv({ typed: true })\n"},{"methodName":"interpret","cellName":"ojs-cell-3","inline":false,"source":"\nPlot.plot({\n  x: {label: \"Wavelength (nm)\"},\n  y: {\n    domain: [0,1],\n    label: \"Relative Intensity\",\n    labelOffset: 0},\n  margin: 40,\n  marginBottom: 80,\n  style: {\n    background: \"#CCCCCC\",\n    fontSize: 20,\n    color: \"Black\"\n  },\n  marks: [\n    Plot.image([{ url: \"https://upload.wikimedia.org/wikipedia/commons/d/d9/Linear_visible_spectrum.svg\"}],\n    {\n      x: 565,\n      y: -0.2,\n      width: 383,\n      height: width*0.1,\n      src: \"url\"\n    }),\n    //Plot.ruleX([380]),\n    //Plot.ruleX([750]),\n    Plot.ruleX([551]),\n    Plot.areaY(interference_filtered, { \n      x: \"wl\", \n      y: \"value\", \n      fill: \"hexvis\"})\n      \n      ],\n  width: 800\n})\n\n"},{"methodName":"interpret","cellName":"ojs-cell-4","inline":false,"source":"interference_filtered = data_intspec.filter(function(intspectra) {\n  return biref == intspectra.biref;\n})\n"},{"methodName":"interpret","cellName":"ojs-cell-5","inline":false,"source":"viewof TempK = Inputs.range(\n  [2500, 7500], \n  {value: 2500, step: 500, label: \"Temperature (K):\"}\n)\nviewof biref2 = Inputs.range(\n  [0.001, 0.055], \n  {value: 0.01, step: 0.001, label: \"Birefringence:\"}\n)\n"},{"methodName":"interpret","cellName":"ojs-cell-6","inline":false,"source":"data_bbspec = FileAttachment(\"bb_spectra.csv\").csv({ typed: true })\ndata_intspec2 = FileAttachment(\"int_spectra2.csv\").csv({ typed: true })\n"},{"methodName":"interpret","cellName":"ojs-cell-7","inline":false,"source":"\nPlot.plot({\n  x: {label: \"Wavelength (nm)\"},\n  y: {\n    label: \"Relative Intensity\",\n    labelOffset: 0},\n  margin: 40,\n  marginBottom: 80,\n  style: {\n    background: \"#CCCCCC\",\n    fontSize: 20,\n    color: \"Black\"\n  },\n  marks: [\n    Plot.image([{ url: \"https://upload.wikimedia.org/wikipedia/commons/d/d9/Linear_visible_spectrum.svg\"}],\n    {\n      x: 565,\n      y: -0.2,\n      width: 383,\n      height: width*0.1,\n      src: \"url\"\n    }),\n    //Plot.ruleX([380]),\n    //Plot.ruleX([750]),\n    Plot.areaY(filtered, { \n      x: \"wl\", \n      y: \"value\", \n      fill: \"hexvis\"})\n      \n      ],\n  width: 800\n})\n\nPlot.plot({\n  x: {label: \"Wavelength (nm)\"},\n  y: {\n    label: \"Relative Intensity\",\n    labelOffset: 0},\n  margin: 40,\n  marginBottom: 80,\n  style: {\n    background: \"#CCCCCC\",\n    fontSize: 20,\n    color: \"Black\"\n  },\n  marks: [\n      Plot.areaY(filtered2, { \n      x: \"wl\", \n      y: \"value\", \n      fill: \"hexvis\"})\n      \n      ],\n  width: 800\n})\n\n"},{"methodName":"interpret","cellName":"ojs-cell-8","inline":false,"source":"filtered = data_bbspec.filter(function(bbspectra) {\n  return TempK == bbspectra.temperature;\n})\nfiltered2 = data_intspec2.filter(function(intspectra2) {\n  return TempK == intspectra2.temperature && biref2 == intspectra2.biref;\n})\n\n"},{"methodName":"interpretQuiet","source":"shinyInput('biref')"},{"methodName":"interpretQuiet","source":"shinyInput('TempK')"},{"methodName":"interpretQuiet","source":"shinyInput('biref2')"}]}
</script>
<script type="module">
if (window.location.protocol === "file:") { alert("The OJS runtime does not work with file:// URLs. Please use a web server to view this document."); }
window._ojs.paths.runtimeToDoc = "../../mineralogy";
window._ojs.paths.runtimeToRoot = "../..";
window._ojs.paths.docToRoot = "..";
window._ojs.selfContained = false;
window._ojs.runtime.interpretFromScriptTags();
</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../mineralogy/crystallography.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Crystallography</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav>
</div> <!-- /content -->



</body></html>